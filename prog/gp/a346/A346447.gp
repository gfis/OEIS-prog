\\ source=https://oeis.org/A346447 lang=pari curno=1 type=isok  rev=56 offset=1 bfimax=68 timeout=4 status=pass nstart=1
isok(n) = { my(f = factor(n), d, m, linrec, nd); if(#f~ > 3, return(0)); if(numdiv(f) <= 6, return(1) ); d = divisors(n); d = vector((#d + 1)\2, i, d[i]); m = [d[2],d[1];d[3],d[2]]; if(matdet(m) != 0, linrec = matsolve([d[2],d[1];d[3],d[2]], [d[3];d[4]]); nd = vector(#d); nd[1] = d[1]; nd[2] = d[2]; for(i = 3, #nd, nd[i] = nd[i-1] * linrec[1,1] + nd[i-2]*linrec[2,1]; ); return(nd==d) , my(r = d[2]/d[1]); for(i = 3, #d, if(d[i-1]*r != d[i], return(0)); ); return(1) ) };
