\\ source=https://oeis.org/A354414 lang=pari curno=1 type=an  rev=10 offset=0 bfimax=53 timeout=4 status=pass
a(n) = {if (n==0, return(1)); my(seqs=vector(n*(n+1)/2), k=0, all = List()); for (i=1, n, for (j=1, i, k++; seqs[k] = List([i, j]); listput(all, i); listput(all, j););); while (1, my(s=seqs[#seqs], m = s[#s-1] + s[#s]); for (i=1, #seqs, my(ss = seqs[i], new); while((new = ss[#ss-1] + ss[#ss]) <= m, listput(seqs[i], new); listput(all, new); ss = seqs[i]);); listsort(all, 1); my(vall = Vec(all), m=0); for (i=1, vecmax(vall), if (!vecsearch(vall, i), m = i; break);); if (m && (m <= seqs[#seqs][#seqs[#seqs]]), return(m)););};
